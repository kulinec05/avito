{"version":3,"sources":["reportWebVitals.js","component/News.js","store/NewsListReducer.js","asyncActions/data.js","App.js","store/commentReducer.js","asyncActions/comment.js","component/Comment.js","store/idCatchReducer.js","asyncActions/ids.js","component/NewsPage.js","component/Router.js","store/index.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","News","props","title","value","score","by","time","className","onClick","useprops","a","Date","year","getFullYear","month","getMonth","getDate","getHours","getMinutes","getSeconds","timeConverter","descendants","defaultState","data","ADD_NEWS_LIST","NewsFetcher","dispatch","fetch","res","json","slice","valueS","Promise","all","map","type","payload","App","useDispatch","useSelector","state","useState","loading","setLoading","updatePage","useEffect","setInterval","Object","keys","length","values","reverse","filter","t","history","push","id","ADD_COMMENT","commentCatcher","Comment","show","setShow","comment","deleted","text","kids","ADD_ID_INFO","idCatcher","NewsPage","ids","match","params","url","href","Router","exact","path","component","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4PAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,uBC4BCQ,EAhCF,SAACC,GACV,IAAMC,EAAQD,EAAME,MAAMD,MACpBE,EAAQH,EAAME,MAAMC,MACpBC,EAAKJ,EAAME,MAAME,GACjBC,EAAOL,EAAME,MAAMG,KAgBzB,OAAO,8BACH,qBAAKC,UAAU,OAAf,SACI,+BACI,6CAAgBF,EAAhB,OAA0B,yBAAQE,UAAU,gBAAgBC,QAASP,EAAMQ,SAAjD,eAA+DP,KACzF,6CAAgBE,KAChB,qDAnBZ,SAAuBE,GACnB,IAAII,EAAI,IAAIC,KAAY,IAAPL,GAEbM,EAAOF,EAAEG,cACTC,EAFS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAExEJ,EAAEK,YAMrB,OADAT,EAJWI,EAAEM,UAIC,IAAMF,EAAQ,IAAMF,EAAO,IAH9BF,EAAEO,WAGyC,IAF5CP,EAAEQ,aAEsD,IADxDR,EAAES,aAWoBC,CAAcd,MACtC,6CAAgBL,EAAME,MAAMkB,uB,cC7BtCC,EAAe,CACjBC,KAAM,IAGJC,EAAgB,gBCFTC,EAAc,WAEvB,OAAQ,SAAUC,GACdC,MAAM,yDACDjC,MAAK,SAACkC,GAAD,OAASA,EAAIC,UAClBnC,MAAK,SAAC6B,GACHA,EAAOA,EAAKO,MAAM,EAAG,KAErB,IAAIC,EAAS,GACbC,QAAQC,IAAIV,EAAKW,KAAI,SAAA/B,GACjBwB,MAAM,8CAAD,OAA+CxB,EAA/C,UACAT,MAAK,SAACkC,GAAD,OAASA,EAAIC,UAClBnC,MAAK,SAAC6B,GACHQ,EAAO5B,GAASoB,EAChBG,EDDmB,CAACS,KAAMX,EAAeY,QCCdL,gBCmCxCM,G,MA5CH,SAACpC,GACT,IAAMyB,EAAWY,cACXf,EAAOgB,aAAY,SAAAC,GAAK,OAAIA,EAAMjB,KAAKA,QAC7C,EAA4BkB,mBAAS,GAArC,mBACA,GADA,UAC8BA,oBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAMA,SAASC,IACLlB,EAASD,KACTkB,GAAW,GASf,OAhBAE,qBAAU,WACNnB,EAASD,KACTqB,aAAY,kBAAMF,MAAc,OACjC,IAQHC,qBAAU,WACFE,OAAOC,KAAKzB,GAAM0B,OAAS,IAAIN,GAAW,KAE/C,CAACpB,IAGA,sBAAKhB,UAAU,MAAf,UACI,qBAAKA,UAAU,UAAf,SACI,wBAAQA,UAAU,eAAeC,QAAS,WAEtCoC,KAFJ,2BAMJ,qBAAKrC,UAAU,QAAf,SACEmC,EAOG,qBAAKnC,UAAU,UAAf,qBAPOwC,OAAOG,OAAO3B,GAAM4B,UAAUC,QAAO,SAAAC,GAAC,OAAU,OAANA,KAAYnB,KAAI,SAAA/B,GAClE,OAAO,cAAC,EAAD,CACMA,MAAOA,EACPM,SAAU,WACNR,EAAMqD,QAAQC,KAAd,iBAA6BpD,EAAMqD,OAHlCrD,EAAMqD,c,eCvClClC,G,MAAe,CACjBC,KAAM,KAGJkC,EAAc,cCFPC,EAAiB,SAACvD,GAC3B,OAAO,SAAUuB,GACbC,MAAM,8CAAD,OAA+CxB,EAA/C,UACAT,MAAK,SAACkC,GAAD,OAASA,EAAIC,UAClBnC,MAAK,SAAC6B,GACHG,EDU8B,CAACS,KAAMsB,EAAarB,QCVxBb,SC0B3BoC,EA5BC,SAAVA,EAAW1D,GAEb,MAAwBwC,oBAAS,GAAjC,mBAAOmB,EAAP,KAAaC,EAAb,KAEMnC,EAAWY,cACXf,EAAOgB,aAAY,SAAAC,GAAK,OAAIA,EAAMsB,QAAQvC,QAAMtB,EAAME,OAK5D,OAJA0C,qBAAU,WACNnB,EAASgC,EAAezD,EAAME,UAC/B,IAIC,8BACKoB,IAASA,EAAKwC,SAAW,sBAAKxD,UAAU,UAAf,UACtB,6CAAWgB,EAAKlB,GAAhB,OACCkB,EAAKyC,MACJzC,EAAK0C,MAAQ,IAAIhB,SAAWW,EAAO,wBAAQpD,QAAS,WAClDqD,GAAQ,IADyB,uBAEb,KACxB,2CAActC,EAAK0C,MAAQ,IAAIhB,QAAUW,EAAOb,OAAOG,OAAO3B,EAAK0C,MAAM/B,KAAI,SAAA/B,GACzE,OAAO,cAACwD,EAAD,CACSxD,MAAOA,GADFA,MAEpB,cC3BfmB,G,MAAe,CACjBC,KAAM,KAGJ2C,EAAc,cCFPC,EAAY,SAAChE,GACtB,OAAO,SAAUuB,GACbC,MAAM,8CAAD,OAA+CxB,EAA/C,UACAT,MAAK,SAACkC,GAAD,OAASA,EAAIC,UAClBnC,MAAK,SAAC6B,GACHG,EDQ6B,CAACS,KAAM+B,EAAa9B,QCRxBb,SC8C1B6C,EA/CE,SAACnE,GAEd,IAAMyB,EAAWY,cACXf,EAAOgB,aAAY,SAAAC,GAAK,OAAIA,EAAM6B,IAAI9C,QAC5CsB,qBAAU,WACNnB,EAASyC,EAAUlE,EAAMqE,MAAMC,OAAOpE,UACvC,IAGQoB,EAAKiC,GAAhB,IACMtD,EAAQqB,EAAKrB,MAEbG,GADQkB,EAAKnB,MACRmB,EAAKlB,IACVC,EAAOiB,EAAKjB,KACZkE,EAAMjD,EAAKiD,IAejB,OACI,sBAAKjE,UAAU,OAAf,UACI,wBAAQA,UAAU,eAAeC,QAAS,kBAAKP,EAAMqD,QAAQC,KAAK,YAAlE,4CACA,mBAAGkB,KAAMD,EAAT,SAAeA,IACf,mCAAMtE,KACN,qDAlBR,SAAuBI,GACnB,IAAII,EAAI,IAAIC,KAAY,IAAPL,GAEbM,EAAOF,EAAEG,cACTC,EAFS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAExEJ,EAAEK,YAMrB,OADAT,EAJWI,EAAEM,UAIC,IAAMF,EAAQ,IAAMF,EAAO,IAH9BF,EAAEO,WAGyC,IAF5CP,EAAEQ,aAEsD,IADxDR,EAAES,aAUgBC,CAAcd,MACtC,6BAAKD,IACL,4CAAc,6BAAKkB,EAAKF,iBACxB,2CACEE,EAAK0C,MAAQ,IAAIhB,OAASF,OAAOG,OAAO3B,EAAK0C,MAAM/B,KAAI,SAAA/B,GACrD,OAAQ,cAAC,EAAD,CACQA,MAAOA,GADDA,MAErB,SC9BFuE,EAZA,SAACzE,GAEZ,OACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAO0E,OAAK,EAACC,KAAK,UAAUC,UAAWxC,IACvC,cAAC,IAAD,CAAOuC,KAAK,gBAAgBC,UAAWT,U,wBCJjDU,EAAcC,0BAChB,CACIxD,KVHuB,WAAmC,IAAlCiB,EAAiC,uDAAzBlB,EAAc0D,EAAW,uCAC7D,OAAQA,EAAO7C,OACNX,EACM,2BAAIgB,GAAX,IAAkBjB,KAAK,2BAAKiB,EAAMjB,MAASyD,EAAO5C,WAE3CI,GUDX6B,IJJsB,WAAmC,IAAlC7B,EAAiC,uDAAzBlB,EAAc0D,EAAW,uCAC5D,OAAQA,EAAO7C,OACN+B,EACM,2BAAI1B,GAAX,IAAkBjB,KAAK,2BAAKiB,EAAMjB,MAASyD,EAAO5C,WAE3CI,GIAXsB,QPLsB,WAAmC,IAAlCtB,EAAiC,uDAAzBlB,EAAc0D,EAAW,uCAC5D,GAAQA,EAAO7C,OACNsB,EAAL,CACI,IAAIlC,EAAI,eAAOiB,EAAMjB,MAErB,OADAA,EAAKyD,EAAO5C,QAAQoB,IAAMwB,EAAO5C,QAC1B,2BAAII,GAAX,IAAkBjB,KAAMA,IAExB,OAAOiB,KOENyC,EAAQC,sBAAYJ,EAAaK,8BAAoBC,0BAAgBC,OCPlFC,IAASC,OACL,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUP,MAAOA,EAAjB,SACF,cAAC,EAAD,QAGJQ,SAASC,eAAe,SAMxBnG,M","file":"static/js/main.59ce793e.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport './News.css'\r\n\r\nconst News = (props) => {\r\n    const title = props.value.title\r\n    const score = props.value.score\r\n    const by = props.value.by\r\n    const time = props.value.time\r\n\r\n    function timeConverter(time) {\r\n        let a = new Date(time * 1000);\r\n        let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n        let year = a.getFullYear();\r\n        let month = months[a.getMonth()];\r\n        let date = a.getDate();\r\n        let hour = a.getHours();\r\n        let min = a.getMinutes();\r\n        let sec = a.getSeconds();\r\n        time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec;\r\n        return time;\r\n    }\r\n\r\n\r\n    return <div>\r\n        <div className='news'>\r\n            <ul>\r\n                <div> story by {by}:</div><button className='buttonUpdateS' onClick={props.useprops} >  {title}</button>\r\n                <div> rating : {score}</div>\r\n                <div> published time : {timeConverter(time)}</div>\r\n                <div>comments: {props.value.descendants}</div>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default News;\r\n","const defaultState = {\r\n    data: {}\r\n}\r\n\r\nconst ADD_NEWS_LIST = \"ADD_NEWS_LIST\"\r\n\r\nexport const NewsListReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_NEWS_LIST:\r\n            return {...state, data: {...state.data, ...action.payload}}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addNewsListAction = (payload) => ({type: ADD_NEWS_LIST, payload})","import {addNewsListAction} from \"../store/NewsListReducer\";\r\n\r\nexport const NewsFetcher = () => {\r\n\r\n    return  function (dispatch){\r\n        fetch(`https://hacker-news.firebaseio.com/v0/newstories.json`)\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                data = data.slice(0, 100)\r\n\r\n                let valueS = {};\r\n                Promise.all(data.map(value => {\r\n                    fetch(`https://hacker-news.firebaseio.com/v0/item/${value}.json`)\r\n                        .then((res) => res.json())\r\n                        .then((data) => {\r\n                            valueS[value] = data\r\n                            dispatch(addNewsListAction(valueS))\r\n                        })\r\n                }))\r\n\r\n            })\r\n\r\n    }\r\n}","import React, {useEffect, useState} from \"react\";\nimport News from \"./component/News\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {NewsFetcher} from \"./asyncActions/data\";\nimport './App.css'\n\n\nconst App = (props) => {\n    const dispatch = useDispatch()\n    const data = useSelector(state => state.data.data)\n    const [update, setUpdate] = useState(0)\n    const [loading, setLoading] = useState(true);\n    useEffect(() => {\n        dispatch(NewsFetcher())\n        setInterval(() => updatePage(), 60000)\n    }, [])\n\n    function updatePage() {\n        dispatch(NewsFetcher())\n        setLoading(true)\n\n    }\n\n    useEffect(() => {\n        if (Object.keys(data).length > 99) setLoading(false)\n\n    }, [data])\n\n    return (\n        <div className='App'>\n            <div className=\"updateB\" >\n                <button className='buttonUpdate' onClick={() => {\n\n                    updatePage();\n                }}>Update list\n                </button>\n            </div>\n            <div className=\"newsS\">\n            {!loading ? Object.values(data).reverse().filter(t => t !== null).map(value => {\n                return <News key={value.id}\n                             value={value}\n                             useprops={() => {\n                                 props.history.push(`/avito/${value.id}`)\n                             }\n                             }/>\n            }) : <div className='loading'>LOADING</div>}\n            </div>\n        </div>\n    );\n}\n\nexport default App;","const defaultState = {\r\n    data: {}\r\n}\r\n\r\nconst ADD_COMMENT = \"ADD_COMMENT\"\r\n\r\nexport const commentReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_COMMENT:\r\n            let data = {...state.data}\r\n            data[action.payload.id] = action.payload\r\n            return {...state, data: data}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addCommentAction = (payload) => ({type: ADD_COMMENT, payload})","import {addCommentAction} from \"../store/commentReducer\";\r\n\r\nexport const commentCatcher = (value) =>{\r\n    return function (dispatch){\r\n        fetch(`https://hacker-news.firebaseio.com/v0/item/${value}.json`)\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                dispatch(addCommentAction(data))\r\n            })\r\n\r\n\r\n    }\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport './Comment.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {commentCatcher} from \"../asyncActions/comment\";\r\n\r\nconst Comment = (props) => {\r\n\r\n    const [show, setShow] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n    const data = useSelector(state => state.comment.data)[props.value]\r\n    useEffect(() => {\r\n        dispatch(commentCatcher(props.value))\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <div>\r\n            {data && !data.deleted && <div className='Comment'>\r\n                <h4>↰ by: {data.by} </h4>\r\n                {data.text}\r\n                {(data.kids || []).length && !show ? <button onClick={() => {\r\n                    setShow(true)\r\n                }}>Show more</button> : null}\r\n                <div>       {(data.kids || []).length && show ? Object.values(data.kids).map(value => {\r\n                    return <Comment key={value}\r\n                                    value={value}/>\r\n                }) : null}</div>\r\n\r\n            </div>\r\n            }</div>\r\n    )\r\n}\r\nexport default Comment;\r\n\r\n","const defaultState = {\r\n    data: {}\r\n}\r\n\r\nconst ADD_ID_INFO = \"ADD_ID_INFO\"\r\n\r\nexport const idCatchReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_ID_INFO:\r\n            return {...state, data: {...state.data, ...action.payload}}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addIdInfoAction = (payload) => ({type: ADD_ID_INFO, payload})","import {addIdInfoAction} from \"../store/idCatchReducer\";\r\n\r\nexport const idCatcher = (value) =>{\r\n    return function (dispatch){\r\n        fetch(`https://hacker-news.firebaseio.com/v0/item/${value}.json`)\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                dispatch(addIdInfoAction(data))\r\n            })\r\n\r\n\r\n    }\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Comment from \"./Comment\";\r\nimport './NewsPage.css'\r\nimport {idCatcher} from \"../asyncActions/ids\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nconst NewsPage = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const data = useSelector(state => state.ids.data)\r\n    useEffect(() => {\r\n        dispatch(idCatcher(props.match.params.value))\r\n    }, [])\r\n\r\n\r\n    const id = data.id\r\n    const title = data.title\r\n    const score = data.score\r\n    const by = data.by\r\n    const time = data.time\r\n    const url = data.url\r\n\r\n    function timeConverter(time) {\r\n        let a = new Date(time * 1000);\r\n        let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n        let year = a.getFullYear();\r\n        let month = months[a.getMonth()];\r\n        let date = a.getDate();\r\n        let hour = a.getHours();\r\n        let min = a.getMinutes();\r\n        let sec = a.getSeconds();\r\n        time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec;\r\n        return time;\r\n    }\r\n\r\n    return (\r\n        <div className='Page'>\r\n            <button className=\"buttonUpdate\" onClick={()=> props.history.push('/avito/')}>Назад</button>\r\n            <a href={url}>{url}</a>\r\n            <h2> {title}</h2>\r\n            <div> published time : {timeConverter(time)}</div>\r\n            <h3>{by}</h3>\r\n            <div>comments:<h1>{data.descendants}</h1></div>\r\n            <h1>Comments</h1>\r\n            {(data.kids || []).length ? Object.values(data.kids).map(value => {\r\n                return (<Comment key={value}\r\n                                value={value}/>)\r\n            }) : null}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewsPage;","import React from 'react';\r\nimport App from \"../App\";\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport NewsPage from \"./NewsPage\";\r\n\r\nconst Router = (props) => {\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route exact path='/avito/' component={App} />\r\n                <Route path='/avito/:value' component={NewsPage}/>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Router;\r\n","import {createStore , combineReducers , applyMiddleware} from \"redux\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport {NewsListReducer} from \"./NewsListReducer\";\r\nimport {idCatchReducer} from \"./idCatchReducer\";\r\nimport {commentReducer} from \"./commentReducer\";\r\n\r\nconst rootReducer = combineReducers(\r\n    {\r\n        data: NewsListReducer,\r\n        ids: idCatchReducer,\r\n        comment: commentReducer,\r\n    }\r\n)\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport Router from \"./component/Router\";\nimport {Provider} from \"react-redux\";\nimport {store} from './store'\n\nReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n    <Router/>\n    </Provider>\n    </React.StrictMode>,\ndocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}